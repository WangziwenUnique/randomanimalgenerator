import{d as e,r as a,c as t,b as l,B as s,C as o,F as n,j as r,D as u,u as c,o as m,E as i}from"./vendor-8eOgw1mB.js";import{b as p}from"./index-DoqfLQE-.js";const d={class:"create-game-page"},v={class:"form-group"},y=["onUpdate:modelValue"],g=["onUpdate:modelValue"],f=p(e({__name:"CreateGamePage",setup(e){const p=c(),f=a(""),h=a(""),b=["#f9d77e","#a0c35a","#b0c4ef","#ba81c5"],C=a([{name:"",clues:""},{name:"",clues:""},{name:"",clues:""},{name:"",clues:""}]),x=async()=>{if(!f.value||!h.value)return void alert("Please enter game name and creator");for(const t of C.value){if(!t.name||!t.clues)return void alert("Please ensure all categories have names and clues");if(4!==t.clues.split(",").map((e=>e.trim())).length)return void alert("Each category must have exactly 4 clues")}const e=["yellow","green","blue","purple"];try{if(!(await fetch("https://connectionshinttoday.today/api/connections/games",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:f.value,creator:h.value,rating:0,categories:C.value.map(((a,t)=>({title:a.name,color:e[t],words:a.clues.split(",").map((e=>e.trim()))})))})})).ok)throw new Error("Failed to save game");alert("Game created successfully!"),p.push("/community")}catch(a){alert("Failed to save game. Please try again later.")}};return(e,a)=>(m(),t("div",d,[a[3]||(a[3]=l("h1",null,"Create Your Own Connections Game",-1)),l("form",{class:"create-form",onSubmit:u(x,["prevent"])},[l("div",v,[s(l("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>f.value=e),placeholder:"Game name...",class:"form-input"},null,512),[[o,f.value]]),s(l("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>h.value=e),placeholder:"Created by...",class:"form-input"},null,512),[[o,h.value]])]),(m(!0),t(n,null,r(C.value,((e,a)=>(m(),t("div",{key:a,class:"category-group",style:i({backgroundColor:b[a]})},[s(l("input",{type:"text","onUpdate:modelValue":a=>e.name=a,placeholder:"Category",class:"category-input"},null,8,y),[[o,e.name]]),s(l("input",{type:"text","onUpdate:modelValue":a=>e.clues=a,placeholder:"Clues (comma separated)",class:"clues-input"},null,8,g),[[o,e.clues]])],4)))),128)),a[2]||(a[2]=l("button",{type:"submit",class:"submit-button"},"Create Game",-1))],32)]))}}),[["__scopeId","data-v-8e8f4de3"]]);export{f as default};
